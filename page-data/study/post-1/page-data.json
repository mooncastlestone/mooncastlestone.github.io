{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/study/post-1/","result":{"data":{"markdownRemark":{"html":"<p>코딩 부트캠프에서 두 차례의 프로젝트를 경험하면서 언젠가 한 번 TDD(<strong><em>테스트 주도 개발</em></strong>)에 대해서 공부해보고 싶다는 생각이 들었었다. 마침 개츠비를 활용한 개인 블로그를 제작하던 중이었고, 개츠비 공식 문서에서 Unit Test 관련된 정보들이 정리되어 있어서 참고하여 진행해보았다. 아래 글은 Gatsby 프로젝트에 Unit Test를 위한 기본 설정 세팅하는 방법에 대해서 정리하였다.</p>\n<p>세팅하는 방법에 앞서 <strong>단위 테스트란 어떤 것인지에 대해서 먼저 알아보자.</strong>\n<br></br></p>\n<hr>\n<br>\n<h2 id=\"단위-테스트란-\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%9E%80-\" aria-label=\"단위 테스트란  permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단위 테스트란 ?</h2>\n<p>단위 테스트(unit test)는 컴퓨터 프로그래밍에서 소스 코드의 특정 모듈이 의도된 대로 정확히 작동하는지 검증하는 절차라고 한다.</p>\n<p>즉, 개발자가 작성하는 <u><strong>모든 함수와 메소드에 대한 테스트 케이스를 작성하는 절차</strong></u>라고 생각하면 된다.</p>\n<p>개츠비에서는 자체적인 유닛 테스팅을 위한 기능들을 지원하지는 않지만, 몇가지 단계를 거친다면 테스트를 진행할 수 있다. 그러나, 테스팅 과정에서 <strong>Jest</strong> 관련 표준 설정이 제대로 작동하지 않는 몇 가지 기능들이 있다고 한다. 관련된 설정 방법 또한 공식 문서에서 확인할 수 있었다.\n<br></br>\n*<strong>Jest</strong>는 페이스북에서 만든 리액트를 위한 가장 유명한 테스팅 프레임워크이다.\n자바스크립트 유닛 테스팅 목적으로 만들어진 프레임워크이지만, 리액트에도 동작하는 기능들이 많다고 한다.\n<br></br></p>\n<h2 id=\"jest-패키지-설치\" style=\"position:relative;\"><a href=\"#jest-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\" aria-label=\"jest 패키지 설치 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jest, 패키지 설치</h2>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">npm</span><span class=\"mtk1\"> </span><span class=\"mtk4\">install</span><span class=\"mtk1\"> </span><span class=\"mtk8\">--</span><span class=\"mtk4\">save</span><span class=\"mtk8\">-</span><span class=\"mtk4\">dev</span><span class=\"mtk1\"> </span><span class=\"mtk4\">jest</span><span class=\"mtk1\"> </span><span class=\"mtk4\">babel</span><span class=\"mtk8\">-</span><span class=\"mtk4\">jest</span><span class=\"mtk1\"> </span><span class=\"mtk4\">react</span><span class=\"mtk8\">-</span><span class=\"mtk4\">test</span><span class=\"mtk8\">-</span><span class=\"mtk4\">renderer</span><span class=\"mtk1\"> </span><span class=\"mtk4\">babel</span><span class=\"mtk8\">-</span><span class=\"mtk4\">preset</span><span class=\"mtk8\">-</span><span class=\"mtk4\">gatsby</span><span class=\"mtk1\"> </span><span class=\"mtk4\">identity</span><span class=\"mtk8\">-</span><span class=\"mtk4\">obj</span><span class=\"mtk8\">-</span><span class=\"mtk4\">proxy</span></span></span></code></pre>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">1.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">jest</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">2.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">babel</span><span class=\"mtk8\">-</span><span class=\"mtk4\">jest</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">3.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">react</span><span class=\"mtk8\">-</span><span class=\"mtk4\">test</span><span class=\"mtk8\">-</span><span class=\"mtk4\">renderer</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">4.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">babel</span><span class=\"mtk8\">-</span><span class=\"mtk4\">preset</span><span class=\"mtk8\">-</span><span class=\"mtk4\">gatsby</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">5.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">identity</span><span class=\"mtk8\">-</span><span class=\"mtk4\">obj</span><span class=\"mtk8\">-</span><span class=\"mtk4\">proxy</span></span></span></code></pre>\n<br>\n<h2 id=\"단위-테스트-설정을-위한-파일들\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%84%A4%EC%A0%95%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%8C%8C%EC%9D%BC%EB%93%A4\" aria-label=\"단위 테스트 설정을 위한 파일들 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단위 테스트 설정을 위한 파일들</h2>\n<h3 id=\"1-jestconfigjs\" style=\"position:relative;\"><a href=\"#1-jestconfigjs\" aria-label=\"1 jestconfigjs permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. jest.config.js</h3>\n<p>Gatsby는 자체 Babel configuration을 사용하기 때문에, 수동적으로 Jest가 <strong>babel-jest</strong>를 사용하게 설정해야한다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">module</span><span class=\"mtk1\">.</span><span class=\"mtk11\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">transform</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6\">&quot;^.+</span><span class=\"mtk8\">\\\\</span><span class=\"mtk6\">.jsx?$&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">`&lt;rootDir&gt;/jest-preprocess.js`</span><span class=\"mtk1\">, </span><span class=\"mtk5 mtki\">// 타입스크립트에서는 &quot;^.+\\\\.[jt]sx?$&quot;: &quot;&lt;rootDir&gt;/jest-preprocess.js&quot;, 이렇게 설정</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">moduleNameMapper</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6\">&quot;.+</span><span class=\"mtk8\">\\\\</span><span class=\"mtk6\">.(css|styl|less|sass|scss)$&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">`identity-obj-proxy`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6\">&quot;.+</span><span class=\"mtk8\">\\\\</span><span class=\"mtk6\">.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">`&lt;rootDir&gt;/__mocks__/file-mock.js`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">testPathIgnorePatterns</span><span class=\"mtk1\">: [</span><span class=\"mtk6\">`node_modules`</span><span class=\"mtk1\">, </span><span class=\"mtk6\">`</span><span class=\"mtk8\">\\\\</span><span class=\"mtk6\">.cache`</span><span class=\"mtk1\">, </span><span class=\"mtk6\">`&lt;rootDir&gt;.*/public`</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">transformIgnorePatterns</span><span class=\"mtk1\">: [</span><span class=\"mtk6\">`node_modules/(?!(gatsby)/)`</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">globals</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">__PATH_PREFIX__</span><span class=\"mtk1\">: </span><span class=\"mtk6\">``</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">testURL</span><span class=\"mtk1\">: </span><span class=\"mtk6\">`http://localhost`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">setupFiles</span><span class=\"mtk1\">: [</span><span class=\"mtk6\">`&lt;rootDir&gt;/loadershim.js`</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li>transform 세션은 Jest에게 모든 js, jsx 파일들은 프로젝트 root 안의 jest-preprocess.js를 사용하여 변환되어져야 한다고 말하는 역할을 한다.</li>\n</ul>\n<h3 id=\"2-jest-preprocessjs\" style=\"position:relative;\"><a href=\"#2-jest-preprocessjs\" aria-label=\"2 jest preprocessjs permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. jest-preprocess.js</h3>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"jsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">babelOptions</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">presets</span><span class=\"mtk1\">: [</span><span class=\"mtk6\">&quot;babel-preset-gatsby&quot;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">module</span><span class=\"mtk1\">.</span><span class=\"mtk11\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">require</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;babel-jest&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">default</span><span class=\"mtk1\">.</span><span class=\"mtk3\">createTransformer</span><span class=\"mtk1\">(</span><span class=\"mtk4\">babelOptions</span><span class=\"mtk1\">)</span></span></span></code></pre>\n<h3 id=\"3-mocksfile-mockjs\" style=\"position:relative;\"><a href=\"#3-mocksfile-mockjs\" aria-label=\"3 mocksfile mockjs permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. <strong>mocks</strong>/file-mock.js</h3>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">module</span><span class=\"mtk1\">.</span><span class=\"mtk11\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;test-file-stub&quot;</span></span></span></code></pre>\n<h3 id=\"4-mocksgatsbyjs\" style=\"position:relative;\"><a href=\"#4-mocksgatsbyjs\" aria-label=\"4 mocksgatsbyjs permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. <strong>**mocks</strong>**/gatsby.js</h3>\n<p>개츠비 모듈 자체가 mock을 할 수 있게 하기 위한 옵션.\n<br>Link와 GraphQL을 사용한 컴포넌트를 테스트할 때 간단하게 테스트 할 수 있다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">React</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">require</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;react&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">gatsby</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">requireActual</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;gatsby&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">module</span><span class=\"mtk1\">.</span><span class=\"mtk11\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ...</span><span class=\"mtk4\">gatsby</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">graphql</span><span class=\"mtk1\">: </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">fn</span><span class=\"mtk1\">(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">Link</span><span class=\"mtk1\">: </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">fn</span><span class=\"mtk1\">().</span><span class=\"mtk3\">mockImplementation</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5 mtki\">// these props are invalid for an `a` tag</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">activeClassName</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">activeStyle</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">getProps</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">innerRef</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">partiallyActive</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">ref</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">replace</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">to</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      ...</span><span class=\"mtk4\">rest</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }) </span><span class=\"mtk10\">=&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk3\">createElement</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;a&quot;</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ...</span><span class=\"mtk4\">rest</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">href</span><span class=\"mtk1\">: </span><span class=\"mtk4\">to</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">StaticQuery</span><span class=\"mtk1\">: </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">fn</span><span class=\"mtk1\">(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">useStaticQuery</span><span class=\"mtk1\">: </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">fn</span><span class=\"mtk1\">(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h2 id=\"테스트-시작하기\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\" aria-label=\"테스트 시작하기 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트 시작하기</h2>\n<p>위의 설정들을 마친 후 <strong>package.json</strong> 에 들어가보면 scripts에 test가 생성되어있다.</p>\n<p>지금은 gatsby에서 default로 설정한 <strong>에러 메시지</strong>가 들어가있는데 이것을 아래와 같이 설정하면 테스트를 시작할 준비가 완료된다 !</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"jsx\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">&quot;test&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;jest&quot;</span></span></span></code></pre>\n<hr>\n<br>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p><a href=\"https://www.gatsbyjs.com/docs/how-to/testing/unit-testing/\">Gatsby - Unit Testing</a>\n<br></br></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtki { font-style: italic; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .mtk7 { color: #D19A66; }\n  .one-dark-pro .mtk11 { color: #E5C07B; }\n  .one-dark-pro .mtk6 { color: #98C379; }\n  .one-dark-pro .mtk5 { color: #7F848E; }\n  .one-dark-pro .mtk10 { color: #C678DD; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%9E%80-\">단위 테스트란 ?</a></p>\n</li>\n<li>\n<p><a href=\"#jest-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\">Jest, 패키지 설치</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%84%A4%EC%A0%95%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%8C%8C%EC%9D%BC%EB%93%A4\">단위 테스트 설정을 위한 파일들</a></p>\n<ul>\n<li><a href=\"#1-jestconfigjs\">1. jest.config.js</a></li>\n<li><a href=\"#2-jest-preprocessjs\">2. jest-preprocess.js</a></li>\n<li><a href=\"#3-mocksfile-mockjs\">3. <strong>mocks</strong>/file-mock.js</a></li>\n<li><a href=\"#4-mocksgatsbyjs\">4. <strong>**mocks</strong>**/gatsby.js</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\">테스트 시작하기</a></p>\n</li>\n<li>\n<p><a href=\"#reference\">Reference</a></p>\n</li>\n</ul>","frontmatter":{"date":"July 20, 2021","slug":"/study/post-1/","title":"Gatsby 프로젝트에 단위 테스트 세팅하기"}}},"pageContext":{"id":"aea67a24-8913-5421-8f90-fb8a1e1af135","frontmatter__slug":"/study/post-1/","__params":{"frontmatter__slug":"study"}}},"staticQueryHashes":["2842829498"]}