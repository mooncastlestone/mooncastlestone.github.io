{"data":{"allMarkdownRemark":{"nodes":[{"id":"f939597e-2801-54cc-bc74-9e1cccdc80db","frontmatter":{"title":"Gatsby를 사용한 블로그 제작 회고","date":"2020-07-22","slug":"/gatsby/post-2/","description":"Gatsby를 사용한 이 블로그 제작 과정에 대해서 느낀 점들을 정리하였습니다."},"html":"<p>Gatsby를 활용하여 첫 개인 블로그를 만들었다 ! 벨로그도 굉장히 좋아해서 자주 이용하지만 일상 관련된 글들도 함께 포스팅 하고 싶기도 하고, 무엇보다 나만의 블로그를 만드는 과정이 너무 재밌을 것 같아서 기획에 들어가게 됐다.\n<br></br></p>\n<h1 id=\"기획\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%9A%8D\" aria-label=\"기획 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기획</h1>\n<h2 id=\"1-개츠비를-사용한-이유\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EC%B8%A0%EB%B9%84%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-%EC%9D%B4%EC%9C%A0\" aria-label=\"1 개츠비를 사용한 이유 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) 개츠비를 사용한 이유</h2>\n<p>정적사이트를 생성하는데 도움을 주는 도구들로 지킬을 비롯한 휴고 등 많은 도구들이 있었다.\n이 많은 도구들 가운데에서 개츠비를 사용한 이유는 다음과 같다.</p>\n<ul>\n<li>\n<p><strong>React 기반</strong></p>\n<p>많은 사람들이 Jekyll을 사용하여 정적 페이지를 생성하고 있지만, ruby 기반으로 되어져 있어서 커스텀하는데 힘들다는 단점이 있다고 한다.\n리액트 개발에 익숙한 나에게 리액트 기반으로 되어져있는 Gatsby를 선택하지 않을 이유는 없었다.</p>\n</li>\n<li>\n<p><strong>깔끔한 문서화</strong></p>\n<p>많은 개발자들이 사용하고 있고, 커뮤니티가 활성화 되어있어서 막히는 부분들을 쉽게 참조할 수 있었다. 많은 템플릿 또한 공유되고 있어서 원한다면 마음에 드는 블로그를 빠르게 생성할 수 있다. 문서를 참고하면서 영어 공부도 추가로 할 수 있었어서 좋았다 !</p>\n</li>\n<li>\n<p><strong>다양한 플러그인</strong></p>\n<p>다양한 도구들을 사용할 수 있는 플러그인들이 정리가 잘되어 있어서 필요한 기능들을 쉽게 사용 가능하다.</p>\n</li>\n</ul>\n<h2 id=\"2-디자인\" style=\"position:relative;\"><a href=\"#2-%EB%94%94%EC%9E%90%EC%9D%B8\" aria-label=\"2 디자인 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 디자인</h2>\n<p>처음에는 개츠비 커뮤니티에 다양한 템플릿들이 있어서 그 중에 하나를 사용해볼까 했다. 그런데 처음이자 마지막이 될 수도 있는 내 개인 블로그인데다가, 기왕 만드는거 '바닥부터 제작해보자!' 라는 생각으로 개츠비에서 제공하는 기본 스타터만 사용하였다.<br></br></p>\n<h3 id=\"그래서-디자인은-어떻게\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EB%94%94%EC%9E%90%EC%9D%B8%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C\" aria-label=\"그래서 디자인은 어떻게 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 디자인은 어떻게?</h3>\n<p>두 차례의 팀 프로젝트를 진행하면서 중요하다고 생각했던것 중 하나가, 초기 디자인 기획이었다.\n나중에 디자인이 마음에 안들어서 전체적인 레이아웃을 갈아엎어야 되는 대참사가 발생하지 않게 Figma 툴을 사용하여 프로토타입을 작성하였다. <del>몇 년 뒤에도 마음에 들지는 모르겠다</del></p>\n<p><span class=\"gatsby-img-attributes\" style=\"display:block; margin: 2rem 0rem 3rem 0rem;\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/252f3476bb4fe5bc1a461c4839b7c3ed/51ed8/figma.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.45945945945947%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACrUlEQVQ4y4WUy08TURTG+8cYkeHZFtASXraFjSFGlOjKkECIKxPURHZGl278AwwxIXGhaxcmQJtSHrpRkWIUXQELaOfV6XTamTvTz5zT3gJCcJKvd+bMPb/57jm3N6RpGgqFAnRdv1A0T1VVGIbBzzSapsmjFMVD9GPbNhzHQaVSOSWKlR2nmez7PosuEQSoVKuoARwTQsAwTIRocrVahWVZDKD7k3Jdl2HFYhG1Wo1hqZVlzM89wuLrBeRyOxyjdzSPgeSGEsrlMkNOuqRnCQyCgJMX3yygV7mEO+OjeP/uLcfI5SkgjaVS6UKgvIqWhd3ff/Dz1y7nnXEoIf9bskykelFcXhRrAqkp5Kwpy+J6yme7VOLunXQI1Br1lCJoANMwEKLtcHSUh6pp0HQDumHCMIt8r+k6CqoGwzSxf3CApaU0lpbTSKWzWEmtYiWVQTqdRSq9ivWNz8jn840luy48IeD7AUyzCFXV4HkCQvhwXQ++LzjpcmsM3dE4KzZ4AwPD4whH4+iKXEe0bxS53I86kDpEHRTCazbCFwJBY98Fgc9uWpQYwj0JRHqTuNaXxBWlH53hEQbSR75v79SBVGQCytoRxPO85oYlh7TEFqWfgT19SSQSU3j2/BVG4jfR3jXMH9mWQOmQukxAgtVBdSA5JeBlJcaJHd1DuD37Eh8+ZpAcm4DSMYhIT+IskLtq27wlaNkEO9fh1THcuj+PJ09fIJ6cQFvnEMfPACWIxuMl+8cOW+s1pHqFI0NQ2gcweW8Gsw8es7583TquoYSS5CFA0GaXyWFbP6K9yUanEwyfvDuNmdk5TE0/xLet7TqQILRRJVDey1radgl7e/vIZNaRXdvEanYT2SyNG1hb/8RbilZweHh4zj/lH1FN5XlHTXOc8inRgVKpOCya8xckiJWpTgLy8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"figma\"\n        title=\"\"\n        src=\"/static/252f3476bb4fe5bc1a461c4839b7c3ed/fcda8/figma.png\"\n        srcset=\"/static/252f3476bb4fe5bc1a461c4839b7c3ed/12f09/figma.png 148w,\n/static/252f3476bb4fe5bc1a461c4839b7c3ed/e4a3f/figma.png 295w,\n/static/252f3476bb4fe5bc1a461c4839b7c3ed/fcda8/figma.png 590w,\n/static/252f3476bb4fe5bc1a461c4839b7c3ed/efc66/figma.png 885w,\n/static/252f3476bb4fe5bc1a461c4839b7c3ed/51ed8/figma.png 1021w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      / >\n  </a>\n    </span></span></p>\n<h3 id=\"사용한-css-in-js-library\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%ED%95%9C-css-in-js-library\" aria-label=\"사용한 css in js library permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용한 CSS-in-JS Library</h3>\n<p>한동안 styled-components를 사용하여 스타일을 적용했었다. css를 js 안에서 적용시킬 수 있었던 점이 굉장히 마음에 들었었지만, 스타일을 꾸밀 태그들을 모두 컴포넌트로 바꾸는 면에서 가독성이 떨어진다고 생각을 했었다. 다른 방법의 스타일을 꾸밀 라이브러리를 생각하던 중, 문제점이었던 가독성을 해결할 수 있는 <u><strong><em>emotion</em></strong></u> 라이브러리를 알게되어 프로젝트에 적용시켰다. (Thanks to Y)\n<br></br></p>\n<h1 id=\"힘들었던-점\" style=\"position:relative;\"><a href=\"#%ED%9E%98%EB%93%A4%EC%97%88%EB%8D%98-%EC%A0%90\" aria-label=\"힘들었던 점 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>힘들었던 점</h1>\n<p>개츠비 공식 홈페이지에 문서들이 잘 정리되어 있어서 진행하면서 크게 어려웠던 점은 없었다. 다만, <u><strong>다크모드</strong></u>를 플러그인 없이 처음부터 구현하는 것에 있어서 조금 시행 착오가 있었고, 배포하는 과정에서 오류들이 있어서 조금 애를 먹었다. 관련해서는 따로 글을 포스팅할 예정이다.</p>\n<p>최대한 빨리 블로그 틀만 구현을 하고 천천히 리팩토링 하자는 마음으로 시작을 했어서 아직 부족한 기능들이 많다. 기술 면접 준비하면서 리팩토링도 함께 진행해야 될 것 같다.\n<br></br></p>\n<h2 id=\"추가할-기능들\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80%ED%95%A0-%EA%B8%B0%EB%8A%A5%EB%93%A4\" aria-label=\"추가할 기능들 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가할 기능들</h2>\n<p><strong>1. 사이드바</strong></p>\n<ul>\n<li>사용자가 게시물에 들어갔을 때, 다른 카테고리로 이동할 수 있는 기능 추가</li>\n</ul>\n<p><strong>2. TOC (Table of Contents)</strong></p>\n<ul>\n<li>글에 들어갔을 때, 자동으로 생성되는 목차 기능 추가</li>\n</ul>\n<p><strong>3. utterances</strong></p>\n<ul>\n<li>블로그 글에 댓글을 달 수 있는 기능 추가</li>\n</ul>\n<p><strong>4. 모바일 반응형</strong></p>\n<ul>\n<li>모바일 환경에서도 확인할 수 있게 구현</li>\n</ul>\n<br>\n<h1 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며</h1>\n<p>처음으로 나만의 블로그 사이트를 제작했다. 가치있는 블로그가 될 수 있도록 코드들을 보완하고 양질의 글들을 기록할 수 있도록 꾸준히 공부를 해야겠다.</p>\n<p><br></br></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"id":"409a6c0a-32df-5407-ae71-1f0421d881f6","frontmatter":{"title":"Gatsby + GraphQL 간단 정리","date":"2020-07-24","slug":"/gatsby/post-3/","description":"GraphQL을 사용하면서 공부했던 것들을 정리하였습니다."},"html":"<hr></hr>\n<p>개츠비를 사용하면서 GraphQL을 처음으로 사용을 해보았는데 공부한 내용들을 간단하게 정리를 해보려한다.\n<br></br></p>\n<h2 id=\"graphql이란\" style=\"position:relative;\"><a href=\"#graphql%EC%9D%B4%EB%9E%80\" aria-label=\"graphql이란 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQL이란?</h2>\n<p>GraphQL은 Structed Query Language와 마찬가지로 <strong>쿼리 언어</strong>이며, 2015년 페이스북에서 발표하였다.</p>\n<p>쿼리에 대해서 정확하게 설명할 수 있게 생각이 나지 않아 쿼리부터 먼저 다시 검색을 해보았다.\n<br></br></p>\n<h2 id=\"쿼리란\" style=\"position:relative;\"><a href=\"#%EC%BF%BC%EB%A6%AC%EB%9E%80\" aria-label=\"쿼리란 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿼리란?</h2>\n<p>구글에 따르면 우선 query라는 단어 자체가 질문, 문의하다라는 뜻을 가지고 있다.</p>\n<p>프로그래밍 관점에서 생각해본다면, 쿼리란 서버 또는 데이터베이스로부터 원하는 데이터를 얻기 위해 <strong>클라이언트에서 보내는 요청</strong>이라고 생각할 수 있을 것 같다.</p>\n<p>mySQL을 배우면서 쿼리문이라는 것을 작성했던 기억이 나는데, 이것이 데이터베이스에게 내가 원하는 데이터들을 가져오기 위한 요청을 보내는 것이었다.\n<br></br>\n다시 GraphQL로 돌아가보자.</p>\n<p>GraphQL도 mySQL과 마찬가지로 쿼리 언어인데, 그렇다면 두 개의 차이점은 어떤 것인지 궁금했다.\n<br></br></p>\n<h2 id=\"graphql과-mysql의-차이점\" style=\"position:relative;\"><a href=\"#graphql%EA%B3%BC-mysql%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90\" aria-label=\"graphql과 mysql의 차이점 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQL과 mySQL의 차이점</h2>\n<p>mySQL과 GraphQL 모두 쿼리 언어이긴 하지만 두 개의 언어적 구조 차이는 매우 크며, 실전에서 쓰이는 방식 또한 매우 다르다고 한다.</p>\n<p>가장 큰 차이점이라고 할 수 있는 것은 <u><strong>데이터를 요청보내는 곳이 다르다는 것이다.</strong></u></p>\n<p>mySQL은 백엔드 시스템에서 작성되어서 데이터베이스로부터 데이터를 효율적으로 가져오기 위해 사용이 된다.</p>\n<p>반면, GraphQL은 클라이언트 시스템에서 작성되어서 서버로부터 데이터를 효율적으로 가져오기 위해 사용된다.</p>\n<p>서버로부터 데이터를 가져온다고 하는데, 그렇다면 Gatsby에서는 GraphQL이 어떤 식으로 사용이 될까?\n<br></br></p>\n<h2 id=\"gatsby에서의-graphql\" style=\"position:relative;\"><a href=\"#gatsby%EC%97%90%EC%84%9C%EC%9D%98-graphql\" aria-label=\"gatsby에서의 graphql permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby에서의 GraphQL</h2>\n<p>Gatsby에서는 <strong>data layer</strong>라고 하는 사이트 어디에서든지 데이터를 요청 받아올 수 있는 강력한 기능을 제공한다.</p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e1dea72dc5b3a4020568d1fcf2c88279/05244/dataLayer.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.51351351351351%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB6klEQVQ4y21Ta4vbMBD0//9d/V5KoVCu5UgcYjt+SZb1WD08Zdd27sJVICzJo9HuzG6F/44NZdtkdX6/ID6d8/rcV4MhXAaLy+jwuzF46wxmGzGthPfeYg1J9n+7FX+Oyf8sJVxHh1/3BY3yMD4h5YLKU8KwePTaoZ0ZHBBihvER98nAUZI5moB2tuiUgw37Wa8t6n6BsiR7zqbaSkFd39A0LbackIhQcpbwUyQQhSOvAvL+Y02EnJLIwyPnLGlXKWdMs4LSCyjl/eVJY5gXifQxzvKdtJGpV4f7Y4RxBB+z3Mm5fBCeYoZUJBVKRYCeougymCCaaRehHJ+RPMB4JltcRCnlaUx1LljLmApK2URcPjvNYNFb5VFPDouP8u/E8KO5bGz1Tsjs+wawIYoZ2pEAZ+OwWA+9ehgXMBsrqTLp4kjwLqTXlJmwaTu8X66HyPuIMcIfJrABDOZLzjlsW/lSl/lIWwgf/YB72yHn3TVrLXwIz2JlkpTi003nPCKRYE/JXiI8Bxdxpyyu3QxLGfEQvRkXDIsTnTkSluTWKyjLNZvElGeEZ+uwGezij1rj+1VD2YhUNnH8501LV6TjEnfQt7dROourYufAq8s8mXC2JGXCDvMjHDWbMFmSsmLcaEj247rX4ud+/gf+cvWhcJ7BlAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dataLayer\"\n        title=\"dataLayer\"\n        src=\"/static/e1dea72dc5b3a4020568d1fcf2c88279/fcda8/dataLayer.png\"\n        srcset=\"/static/e1dea72dc5b3a4020568d1fcf2c88279/12f09/dataLayer.png 148w,\n/static/e1dea72dc5b3a4020568d1fcf2c88279/e4a3f/dataLayer.png 295w,\n/static/e1dea72dc5b3a4020568d1fcf2c88279/fcda8/dataLayer.png 590w,\n/static/e1dea72dc5b3a4020568d1fcf2c88279/efc66/dataLayer.png 885w,\n/static/e1dea72dc5b3a4020568d1fcf2c88279/c83ae/dataLayer.png 1180w,\n/static/e1dea72dc5b3a4020568d1fcf2c88279/05244/dataLayer.png 1752w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n<br></br>\n개츠비로 만든 사이트가 빌드되기 전, 프로젝트 내의 모든 데이터들이 저장된다. 사진에서 보는바와 같이 Filesystem, CMS, Private API 그리고 Database 안의 데이터들이 개츠비에서 제공하는 GraphQL Data Layer에 저장이 된다.</p>\n<p>저장되져있는 데이터들을 사용하고 싶을 땐, 데이터가 필요한 컴포넌트 내부에서 Query문을 작성하여 요청을 보낼 수 있다.\n<br></br></p>\n<h2 id=\"graphql에서-데이터들을-필터하는-방법\" style=\"position:relative;\"><a href=\"#graphql%EC%97%90%EC%84%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%93%A4%EC%9D%84-%ED%95%84%ED%84%B0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"graphql에서 데이터들을 필터하는 방법 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQL에서 데이터들을 필터하는 방법</h2>\n<p>Page를 구성하는 컴포넌트 안에서 중복되는 코드들이 많았다. 불필요하다고 생각이 들어 재사용 가능한 컴포넌트를 만들기로 결정을 했었다. 재사용 가능한 컴포넌트에 필요한 props로 아래 세 가지가 필요했다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">1.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">카테고리</span><span class=\"mtk1\"> </span><span class=\"mtk4\">이름</span><span class=\"mtk1\"> </span><span class=\"mtk4\">ex</span><span class=\"mtk1\">) </span><span class=\"mtk4\">gatsby</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">2.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">카테고리</span><span class=\"mtk1\"> </span><span class=\"mtk4\">설명</span><span class=\"mtk1\"> </span><span class=\"mtk4\">ex</span><span class=\"mtk1\">) </span><span class=\"mtk4\">gatsby를</span><span class=\"mtk1\"> </span><span class=\"mtk4\">활용하여</span><span class=\"mtk1\"> </span><span class=\"mtk4\">블로그</span><span class=\"mtk1\"> </span><span class=\"mtk4\">작성</span><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">3.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">카테고리</span><span class=\"mtk1\"> </span><span class=\"mtk4\">내</span><span class=\"mtk1\"> </span><span class=\"mtk4\">작성된</span><span class=\"mtk1\"> </span><span class=\"mtk4\">글</span><span class=\"mtk1\"> </span><span class=\"mtk4\">목록</span></span></span></code></pre>\n<p>1, 2번은 직접 작성해도 됐지만, 3번이 문제였다.\n간단한 query문을 사용하여 페이지의 title 데이터를 가져오는 것은 쉽게 가능했지만, 마크다운으로 작성되어져있는 파일들 중 내가 원하는 카테고리의 글 데이터들을 가져오는 것은 다른 일이었다. 뭐 그래도 공식 문서에 찾아보면 나올 것이라 생각하여 검색을 해보았더니 역시 금방 찾을 수 있었다.</p>\n<p>개츠비에서 제공하는 <strong>GraphiQL interface</strong> 를 사용하여 원하는 마크다운 관련된 데이터들만을 필터하였다. 추가적으로 필터 관련된 글에서 정규표현식과 같은 로직으로 실행되는 <strong>regex</strong> 를 사용하여 필터를 하였더니, 원하는 카테고리의 글 목록들만 얻을 수 있었다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">data</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">useStaticQuery</span><span class=\"mtk1\">(</span><span class=\"mtk3\">graphql</span><span class=\"mtk6\">`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">      allMarkdownRemark(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">        filter: { frontmatter: { slug: { regex: &quot;/javascript/&quot; } } }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">      ) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">        nodes {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">          id</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">          frontmatter {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">            title</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">            date</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">            slug</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">            description</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">          }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">          html</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">  `</span><span class=\"mtk1\">)</span></span></span></code></pre>\n<p><br></br></p>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며</h2>\n<p>이때까지 항상 개발을 해오면서 서버단에서 쿼리문을 작성하여 데이터를 요청했었는데, 클라이언트쪽에서 작성을 하니 조금 신선했었던 것 같다. 이번 프로젝트에 그렇게 많은 GraphQL 지식이 요구되지는 않아서 깊게 공부하지는 않았는데, 나중에 다시 사용해야될 때가 온다면 공부를 다시 해보고싶다.\n<br></br></p>\n<hr>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p><a href=\"https://www.gatsbyjs.com/docs/query-filters/\">Query Filters with GraphQL in Gatsby</a></p>\n<p><a href=\"https://www.gatsbyjs.com/docs/tutorial/part-4/\">Part 4: Query for Data with GraphQL</a>\n<br></br></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtk7 { color: #D19A66; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk10 { color: #C678DD; }\n  .one-dark-pro .mtk11 { color: #E5C07B; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .mtk6 { color: #98C379; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"id":"81de7559-e559-529d-823e-3fcd4ad42b80","frontmatter":{"title":"테스트용","date":"2020-08-02","slug":"/gatsby/post-4/","description":"테스트용 글입니다"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"id":"61f6458a-a811-57fb-ac2a-aaec0be48f3b","frontmatter":{"title":"Gatsby 프로젝트에 단위 테스트 세팅하기","date":"2020-07-20","slug":"/gatsby/post-1/","description":"Gatsby 프로젝트에 TDD를 사용해보고 싶어 세팅하는 방법에 대해서 정리하였습니다."},"html":"<p>코딩 부트캠프에서 두 차례의 프로젝트를 경험하면서 언젠가 한 번 TDD(<strong><em>테스트 주도 개발</em></strong>)에 대해서 공부해보고 싶다는 생각이 들었었다. 마침 개츠비를 활용한 개인 블로그를 제작하던 중이었고, 개츠비 공식 문서에서 Unit Test 관련된 정보들이 정리되어 있어서 참고하여 진행해보았다. 아래 글은 Gatsby 프로젝트에 Unit Test를 위한 기본 설정 세팅하는 방법에 대해서 정리하였다.</p>\n<p>세팅하는 방법에 앞서 <strong>단위 테스트란 어떤 것인지에 대해서 먼저 알아보자.</strong>\n<br></br></p>\n<hr>\n<br>\n<h2 id=\"단위-테스트란-\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%9E%80-\" aria-label=\"단위 테스트란  permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단위 테스트란 ?</h2>\n<p>단위 테스트(unit test)는 컴퓨터 프로그래밍에서 소스 코드의 특정 모듈이 의도된 대로 정확히 작동하는지 검증하는 절차라고 한다.</p>\n<p>즉, 개발자가 작성하는 <u><strong>모든 함수와 메소드에 대한 테스트 케이스를 작성하는 절차</strong></u>라고 생각하면 된다.</p>\n<p>개츠비에서는 자체적인 유닛 테스팅을 위한 기능들을 지원하지는 않지만, 몇가지 단계를 거친다면 테스트를 진행할 수 있다. 그러나, 테스팅 과정에서 <strong>Jest</strong> 관련 표준 설정이 제대로 작동하지 않는 몇 가지 기능들이 있다고 한다. 관련된 설정 방법 또한 공식 문서에서 확인할 수 있었다.\n<br></br>\n*<strong>Jest</strong>는 페이스북에서 만든 리액트를 위한 가장 유명한 테스팅 프레임워크이다.\n자바스크립트 유닛 테스팅 목적으로 만들어진 프레임워크이지만, 리액트에도 동작하는 기능들이 많다고 한다.\n<br></br></p>\n<h2 id=\"jest-패키지-설치\" style=\"position:relative;\"><a href=\"#jest-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\" aria-label=\"jest 패키지 설치 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jest, 패키지 설치</h2>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">npm</span><span class=\"mtk1\"> </span><span class=\"mtk4\">install</span><span class=\"mtk1\"> </span><span class=\"mtk8\">--</span><span class=\"mtk4\">save</span><span class=\"mtk8\">-</span><span class=\"mtk4\">dev</span><span class=\"mtk1\"> </span><span class=\"mtk4\">jest</span><span class=\"mtk1\"> </span><span class=\"mtk4\">babel</span><span class=\"mtk8\">-</span><span class=\"mtk4\">jest</span><span class=\"mtk1\"> </span><span class=\"mtk4\">react</span><span class=\"mtk8\">-</span><span class=\"mtk4\">test</span><span class=\"mtk8\">-</span><span class=\"mtk4\">renderer</span><span class=\"mtk1\"> </span><span class=\"mtk4\">babel</span><span class=\"mtk8\">-</span><span class=\"mtk4\">preset</span><span class=\"mtk8\">-</span><span class=\"mtk4\">gatsby</span><span class=\"mtk1\"> </span><span class=\"mtk4\">identity</span><span class=\"mtk8\">-</span><span class=\"mtk4\">obj</span><span class=\"mtk8\">-</span><span class=\"mtk4\">proxy</span></span></span></code></pre>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">1.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">jest</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">2.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">babel</span><span class=\"mtk8\">-</span><span class=\"mtk4\">jest</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">3.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">react</span><span class=\"mtk8\">-</span><span class=\"mtk4\">test</span><span class=\"mtk8\">-</span><span class=\"mtk4\">renderer</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">4.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">babel</span><span class=\"mtk8\">-</span><span class=\"mtk4\">preset</span><span class=\"mtk8\">-</span><span class=\"mtk4\">gatsby</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">5.</span><span class=\"mtk1\"> </span><span class=\"mtk4\">identity</span><span class=\"mtk8\">-</span><span class=\"mtk4\">obj</span><span class=\"mtk8\">-</span><span class=\"mtk4\">proxy</span></span></span></code></pre>\n<br>\n<h2 id=\"단위-테스트-설정을-위한-파일들\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%84%A4%EC%A0%95%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%8C%8C%EC%9D%BC%EB%93%A4\" aria-label=\"단위 테스트 설정을 위한 파일들 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단위 테스트 설정을 위한 파일들</h2>\n<h3 id=\"1-jestconfigjs\" style=\"position:relative;\"><a href=\"#1-jestconfigjs\" aria-label=\"1 jestconfigjs permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. jest.config.js</h3>\n<p>Gatsby는 자체 Babel configuration을 사용하기 때문에, 수동적으로 Jest가 <strong>babel-jest</strong>를 사용하게 설정해야한다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">module</span><span class=\"mtk1\">.</span><span class=\"mtk11\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">transform</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6\">&quot;^.+</span><span class=\"mtk8\">\\\\</span><span class=\"mtk6\">.jsx?$&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">`&lt;rootDir&gt;/jest-preprocess.js`</span><span class=\"mtk1\">, </span><span class=\"mtk5 mtki\">// 타입스크립트에서는 &quot;^.+\\\\.[jt]sx?$&quot;: &quot;&lt;rootDir&gt;/jest-preprocess.js&quot;, 이렇게 설정</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">moduleNameMapper</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6\">&quot;.+</span><span class=\"mtk8\">\\\\</span><span class=\"mtk6\">.(css|styl|less|sass|scss)$&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">`identity-obj-proxy`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6\">&quot;.+</span><span class=\"mtk8\">\\\\</span><span class=\"mtk6\">.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">`&lt;rootDir&gt;/__mocks__/file-mock.js`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">testPathIgnorePatterns</span><span class=\"mtk1\">: [</span><span class=\"mtk6\">`node_modules`</span><span class=\"mtk1\">, </span><span class=\"mtk6\">`</span><span class=\"mtk8\">\\\\</span><span class=\"mtk6\">.cache`</span><span class=\"mtk1\">, </span><span class=\"mtk6\">`&lt;rootDir&gt;.*/public`</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">transformIgnorePatterns</span><span class=\"mtk1\">: [</span><span class=\"mtk6\">`node_modules/(?!(gatsby)/)`</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">globals</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">__PATH_PREFIX__</span><span class=\"mtk1\">: </span><span class=\"mtk6\">``</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">testURL</span><span class=\"mtk1\">: </span><span class=\"mtk6\">`http://localhost`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">setupFiles</span><span class=\"mtk1\">: [</span><span class=\"mtk6\">`&lt;rootDir&gt;/loadershim.js`</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li>transform 세션은 Jest에게 모든 js, jsx 파일들은 프로젝트 root 안의 jest-preprocess.js를 사용하여 변환되어져야 한다고 말하는 역할을 한다.</li>\n</ul>\n<h3 id=\"2-jest-preprocessjs\" style=\"position:relative;\"><a href=\"#2-jest-preprocessjs\" aria-label=\"2 jest preprocessjs permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. jest-preprocess.js</h3>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"jsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">babelOptions</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">presets</span><span class=\"mtk1\">: [</span><span class=\"mtk6\">&quot;babel-preset-gatsby&quot;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">module</span><span class=\"mtk1\">.</span><span class=\"mtk11\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">require</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;babel-jest&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">default</span><span class=\"mtk1\">.</span><span class=\"mtk3\">createTransformer</span><span class=\"mtk1\">(</span><span class=\"mtk4\">babelOptions</span><span class=\"mtk1\">)</span></span></span></code></pre>\n<h3 id=\"3-mocksfile-mockjs\" style=\"position:relative;\"><a href=\"#3-mocksfile-mockjs\" aria-label=\"3 mocksfile mockjs permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. <strong>mocks</strong>/file-mock.js</h3>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">module</span><span class=\"mtk1\">.</span><span class=\"mtk11\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;test-file-stub&quot;</span></span></span></code></pre>\n<h3 id=\"4-mocksgatsbyjs\" style=\"position:relative;\"><a href=\"#4-mocksgatsbyjs\" aria-label=\"4 mocksgatsbyjs permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. <strong>**mocks</strong>**/gatsby.js</h3>\n<p>개츠비 모듈 자체가 mock을 할 수 있게 하기 위한 옵션.\n<br>Link와 GraphQL을 사용한 컴포넌트를 테스트할 때 간단하게 테스트 할 수 있다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">React</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">require</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;react&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">gatsby</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">requireActual</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;gatsby&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">module</span><span class=\"mtk1\">.</span><span class=\"mtk11\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ...</span><span class=\"mtk4\">gatsby</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">graphql</span><span class=\"mtk1\">: </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">fn</span><span class=\"mtk1\">(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">Link</span><span class=\"mtk1\">: </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">fn</span><span class=\"mtk1\">().</span><span class=\"mtk3\">mockImplementation</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5 mtki\">// these props are invalid for an `a` tag</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">activeClassName</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">activeStyle</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">getProps</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">innerRef</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">partiallyActive</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">ref</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">replace</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">to</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      ...</span><span class=\"mtk4\">rest</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }) </span><span class=\"mtk10\">=&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk11\">React</span><span class=\"mtk1\">.</span><span class=\"mtk3\">createElement</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;a&quot;</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ...</span><span class=\"mtk4\">rest</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">href</span><span class=\"mtk1\">: </span><span class=\"mtk4\">to</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">StaticQuery</span><span class=\"mtk1\">: </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">fn</span><span class=\"mtk1\">(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">useStaticQuery</span><span class=\"mtk1\">: </span><span class=\"mtk11\">jest</span><span class=\"mtk1\">.</span><span class=\"mtk3\">fn</span><span class=\"mtk1\">(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h2 id=\"테스트-시작하기\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\" aria-label=\"테스트 시작하기 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트 시작하기</h2>\n<p>위의 설정들을 마친 후 <strong>package.json</strong> 에 들어가보면 scripts에 test가 생성되어있다.</p>\n<p>지금은 gatsby에서 default로 설정한 <strong>에러 메시지</strong>가 들어가있는데 이것을 아래와 같이 설정하면 테스트를 시작할 준비가 완료된다 !</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"jsx\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">&quot;test&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;jest&quot;</span></span></span></code></pre>\n<hr>\n<br>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p><a href=\"https://www.gatsbyjs.com/docs/how-to/testing/unit-testing/\">Gatsby - Unit Testing</a>\n<br></br></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtki { font-style: italic; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .mtk7 { color: #D19A66; }\n  .one-dark-pro .mtk11 { color: #E5C07B; }\n  .one-dark-pro .mtk6 { color: #98C379; }\n  .one-dark-pro .mtk5 { color: #7F848E; }\n  .one-dark-pro .mtk10 { color: #C678DD; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"}]}}}